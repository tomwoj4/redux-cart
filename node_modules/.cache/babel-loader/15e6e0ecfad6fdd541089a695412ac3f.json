{"ast":null,"code":"import{Fragment,useEffect}from'react';import{useSelector,useDispatch}from'react-redux';import Cart from'./components/Cart/Cart';import Layout from'./components/Layout/Layout';import Products from'./components/Shop/Products';import Notification from'./components/UI/Notification';import{sendCartData,fetchCartData}from'./store/cart-actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var isInitial=true;function App(){var dispatch=useDispatch();var showCart=useSelector(function(state){return state.ui.cartIsVisible;});var cart=useSelector(function(state){return state.cart;});var notification=useSelector(function(state){return state.ui.notification;});useEffect(function(){dispatch(fetchCartData());},[dispatch]);useEffect(function(){if(isInitial){isInitial=false;return;}if(cart.changed){dispatch(sendCartData(cart));}},[cart,dispatch]);return/*#__PURE__*/_jsxs(Fragment,{children:[notification&&/*#__PURE__*/_jsx(Notification,{status:notification.status,title:notification.title,message:notification.message}),/*#__PURE__*/_jsxs(Layout,{children:[showCart&&/*#__PURE__*/_jsx(Cart,{}),/*#__PURE__*/_jsx(Products,{})]})]});}export default App;","map":{"version":3,"sources":["/Users/tomwojcik/Desktop/React/advanced-redux/src/App.js"],"names":["Fragment","useEffect","useSelector","useDispatch","Cart","Layout","Products","Notification","sendCartData","fetchCartData","isInitial","App","dispatch","showCart","state","ui","cartIsVisible","cart","notification","changed","status","title","message"],"mappings":"AAAA,OAASA,QAAT,CAAmBC,SAAnB,KAAoC,OAApC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,4BAAnB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,YAAP,KAAyB,8BAAzB,CACA,OAASC,YAAT,CAAuBC,aAAvB,KAA4C,sBAA5C,C,wFAEA,GAAIC,CAAAA,SAAS,CAAG,IAAhB,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,QAAQ,CAAGT,WAAW,EAA5B,CACA,GAAMU,CAAAA,QAAQ,CAAGX,WAAW,CAAC,SAACY,KAAD,QAAWA,CAAAA,KAAK,CAACC,EAAN,CAASC,aAApB,EAAD,CAA5B,CACA,GAAMC,CAAAA,IAAI,CAAGf,WAAW,CAAC,SAACY,KAAD,QAAWA,CAAAA,KAAK,CAACG,IAAjB,EAAD,CAAxB,CACA,GAAMC,CAAAA,YAAY,CAAGhB,WAAW,CAAC,SAACY,KAAD,QAAWA,CAAAA,KAAK,CAACC,EAAN,CAASG,YAApB,EAAD,CAAhC,CAEAjB,SAAS,CAAC,UAAM,CACdW,QAAQ,CAACH,aAAa,EAAd,CAAR,CACD,CAFQ,CAEN,CAACG,QAAD,CAFM,CAAT,CAIAX,SAAS,CAAC,UAAM,CACd,GAAIS,SAAJ,CAAe,CACbA,SAAS,CAAG,KAAZ,CACA,OACD,CAED,GAAIO,IAAI,CAACE,OAAT,CAAkB,CAChBP,QAAQ,CAACJ,YAAY,CAACS,IAAD,CAAb,CAAR,CACD,CACF,CATQ,CASN,CAACA,IAAD,CAAOL,QAAP,CATM,CAAT,CAWA,mBACE,MAAC,QAAD,YACGM,YAAY,eACX,KAAC,YAAD,EACE,MAAM,CAAEA,YAAY,CAACE,MADvB,CAEE,KAAK,CAAEF,YAAY,CAACG,KAFtB,CAGE,OAAO,CAAEH,YAAY,CAACI,OAHxB,EAFJ,cAQE,MAAC,MAAD,YACGT,QAAQ,eAAI,KAAC,IAAD,IADf,cAEE,KAAC,QAAD,IAFF,GARF,GADF,CAeD,CAED,cAAeF,CAAAA,GAAf","sourcesContent":["import { Fragment, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\n\nimport Cart from './components/Cart/Cart';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport Notification from './components/UI/Notification';\nimport { sendCartData, fetchCartData } from './store/cart-actions';\n\nlet isInitial = true;\n\nfunction App() {\n  const dispatch = useDispatch();\n  const showCart = useSelector((state) => state.ui.cartIsVisible);\n  const cart = useSelector((state) => state.cart);\n  const notification = useSelector((state) => state.ui.notification);\n\n  useEffect(() => {\n    dispatch(fetchCartData());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (isInitial) {\n      isInitial = false;\n      return;\n    }\n\n    if (cart.changed) {\n      dispatch(sendCartData(cart));\n    }\n  }, [cart, dispatch]);\n\n  return (\n    <Fragment>\n      {notification && (\n        <Notification\n          status={notification.status}\n          title={notification.title}\n          message={notification.message}\n        />\n      )}\n      <Layout>\n        {showCart && <Cart />}\n        <Products />\n      </Layout>\n    </Fragment>\n  );\n}\n\nexport default App;"]},"metadata":{},"sourceType":"module"}